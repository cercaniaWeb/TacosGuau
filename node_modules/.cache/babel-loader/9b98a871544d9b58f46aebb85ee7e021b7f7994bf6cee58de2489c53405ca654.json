{"ast":null,"code":"import _objectSpread from\"/home/lr7/Proyectos/DonTaco/tacos-guau-app-panda/tacos-guau-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/context/CartContext.js\nimport React,{createContext,useContext,useReducer}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const CartContext=/*#__PURE__*/createContext();const cartReducer=(state,action)=>{switch(action.type){case'ADD_ITEM':const existingItem=state.items.find(item=>item.id===action.payload.id&&JSON.stringify(item.extras)===JSON.stringify(action.payload.extras));if(existingItem){return _objectSpread(_objectSpread({},state),{},{items:state.items.map(item=>item.id===action.payload.id&&JSON.stringify(item.extras)===JSON.stringify(action.payload.extras)?_objectSpread(_objectSpread({},item),{},{quantity:item.quantity+1}):item)});}return _objectSpread(_objectSpread({},state),{},{items:[...state.items,_objectSpread(_objectSpread({},action.payload),{},{quantity:1})]});case'REMOVE_ITEM':return _objectSpread(_objectSpread({},state),{},{items:state.items.filter(item=>!(item.id===action.payload.id&&JSON.stringify(item.extras)===JSON.stringify(action.payload.extras)))});case'UPDATE_QUANTITY':return _objectSpread(_objectSpread({},state),{},{items:state.items.map(item=>item.id===action.payload.id&&JSON.stringify(item.extras)===JSON.stringify(action.payload.extras)?_objectSpread(_objectSpread({},item),{},{quantity:action.payload.quantity}):item).filter(item=>item.quantity>0)});case'CLEAR_CART':return _objectSpread(_objectSpread({},state),{},{items:[]});default:return state;}};const initialState={items:[]};export const CartProvider=_ref=>{let{children}=_ref;const[state,dispatch]=useReducer(cartReducer,initialState);const addItem=item=>{dispatch({type:'ADD_ITEM',payload:item});};const removeItem=item=>{dispatch({type:'REMOVE_ITEM',payload:item});};const updateQuantity=(item,quantity)=>{dispatch({type:'UPDATE_QUANTITY',payload:_objectSpread(_objectSpread({},item),{},{quantity})});};const clearCart=()=>{dispatch({type:'CLEAR_CART'});};const getCartTotal=()=>{return state.items.reduce((total,item)=>total+(item.price+(item.extraPrice||0))*item.quantity,0);};const getCartCount=()=>{return state.items.reduce((count,item)=>count+item.quantity,0);};return/*#__PURE__*/_jsx(CartContext.Provider,{value:{items:state.items,addItem,removeItem,updateQuantity,clearCart,getCartTotal,getCartCount},children:children});};export const useCart=()=>{const context=useContext(CartContext);if(!context){throw new Error('useCart must be used within a CartProvider');}return context;};","map":{"version":3,"names":["React","createContext","useContext","useReducer","jsx","_jsx","CartContext","cartReducer","state","action","type","existingItem","items","find","item","id","payload","JSON","stringify","extras","_objectSpread","map","quantity","filter","initialState","CartProvider","_ref","children","dispatch","addItem","removeItem","updateQuantity","clearCart","getCartTotal","reduce","total","price","extraPrice","getCartCount","count","Provider","value","useCart","context","Error"],"sources":["/home/lr7/Proyectos/DonTaco/tacos-guau-app-panda/tacos-guau-app/src/context/CartContext.js"],"sourcesContent":["// src/context/CartContext.js\nimport React, { createContext, useContext, useReducer } from 'react';\n\nconst CartContext = createContext();\n\nconst cartReducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD_ITEM':\n      const existingItem = state.items.find(\n        item => item.id === action.payload.id && \n        JSON.stringify(item.extras) === JSON.stringify(action.payload.extras)\n      );\n      \n      if (existingItem) {\n        return {\n          ...state,\n          items: state.items.map(item =>\n            item.id === action.payload.id && \n            JSON.stringify(item.extras) === JSON.stringify(action.payload.extras)\n              ? { ...item, quantity: item.quantity + 1 }\n              : item\n          )\n        };\n      }\n      return {\n        ...state,\n        items: [...state.items, { ...action.payload, quantity: 1 }]\n      };\n      \n    case 'REMOVE_ITEM':\n      return {\n        ...state,\n        items: state.items.filter(\n          item => !(item.id === action.payload.id && \n          JSON.stringify(item.extras) === JSON.stringify(action.payload.extras))\n        )\n      };\n      \n    case 'UPDATE_QUANTITY':\n      return {\n        ...state,\n        items: state.items.map(item =>\n          item.id === action.payload.id && \n          JSON.stringify(item.extras) === JSON.stringify(action.payload.extras)\n            ? { ...item, quantity: action.payload.quantity }\n            : item\n        ).filter(item => item.quantity > 0)\n      };\n      \n    case 'CLEAR_CART':\n      return {\n        ...state,\n        items: []\n      };\n      \n    default:\n      return state;\n  }\n};\n\nconst initialState = {\n  items: []\n};\n\nexport const CartProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(cartReducer, initialState);\n\n  const addItem = (item) => {\n    dispatch({ type: 'ADD_ITEM', payload: item });\n  };\n\n  const removeItem = (item) => {\n    dispatch({ type: 'REMOVE_ITEM', payload: item });\n  };\n\n  const updateQuantity = (item, quantity) => {\n    dispatch({ type: 'UPDATE_QUANTITY', payload: { ...item, quantity } });\n  };\n\n  const clearCart = () => {\n    dispatch({ type: 'CLEAR_CART' });\n  };\n\n  const getCartTotal = () => {\n    return state.items.reduce((total, item) => total + (item.price + (item.extraPrice || 0)) * item.quantity, 0);\n  };\n\n  const getCartCount = () => {\n    return state.items.reduce((count, item) => count + item.quantity, 0);\n  };\n\n  return (\n    <CartContext.Provider value={{\n      items: state.items,\n      addItem,\n      removeItem,\n      updateQuantity,\n      clearCart,\n      getCartTotal,\n      getCartCount\n    }}>\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nexport const useCart = () => {\n  const context = useContext(CartContext);\n  if (!context) {\n    throw new Error('useCart must be used within a CartProvider');\n  }\n  return context;\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}